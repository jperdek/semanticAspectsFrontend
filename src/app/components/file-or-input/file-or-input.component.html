<div class="fileOrInputBlock">
  <div class="loaded-files-wrapper">
    <h1 class="main-heading" *ngIf="files.length != 0">Loaded or inserted files</h1>
    <ng-container *ngFor="let loadedFile of files; let index = index" class="whole-loaded-files-block">
      <mat-divider class="divider-block">{{index}}</mat-divider>
      <div class="loaded-file-block">
        <form  (ngSubmit)="updateRecord($event, index, loadedFile)">
          <mat-form-field class="example-full-width" appearance="fill">
            <mat-label>Record name</mat-label>
            <input  matInput  name="recordName{{index}}" placeholder="Ex. ecommerce.txt" value="{{loadedFile.name}}"/>
          </mat-form-field>
        
          <span>{{loadedFile.size}}</span>

          <button mat-icon-button color="primary" aria-label="submit text" type="button" (click)="processShowingFile(loadedFile);" >
            <mat-icon>visibility</mat-icon>
          </button>

          <div class="file-content-field" appearance="outline">
            <mat-label class="sub-heading">Record content</mat-label>
            <textarea class="record-content-field" matInput name="recordContent{{index}}" placeholder="Ex. <html><head></head><body>" *ngIf="loadedFile.showed">{{ loadedFile.textResult }}</textarea>
          </div>

          <mat-checkbox name="updateIsHtml{{index}}" class="is-html-field">Is HTML</mat-checkbox>

          <span class="update-extracted-information-span">
            <button class="update-extracted-information-button" mat-icon-button color="primary" aria-label="submit text" type="submit">
              <mat-icon>update</mat-icon>
              Update extracted information
            </button>
          </span>
        </form>
      </div>  
    </ng-container>
  </div>
  <div class="add-file-wrapper">
    <h1 class="main-heading">Insert file content</h1>
    <form [formGroup]="addFileFormGroup" class="example-form" (ngSubmit)="addRecordToRecords($event)">
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label >Record name</mat-label>
          <input name="setRecordName" formControlName="recordNameFormControl" matInput placeholder="Ex. ecommerce.txt" value="Sushi">
        </mat-form-field>
      
        <div class="file-content-field" appearance="outline">
          <mat-label class="sub-heading">Record content</mat-label>
          <textarea class="record-content-field" name="setRecordContent" formControlName="recordFormControl" matInput placeholder="Ex. <html><head></head><body>"></textarea>
          </div>

        <mat-checkbox formControlName="isHtmlFormControl" class="is-html-field">Is HTML</mat-checkbox>
        
        <div class="add-text-to-record-button-block">
          <button class="add-content-to-records" color="accent" aria-label="submit text" type="submit">
            <mat-icon class="add-text-to-record">add_circle_outline</mat-icon>
            <span class="add-text-to-record-text">Add content to loaded contents</span>
          </button>
        </div>
    </form>
  </div>
</div>
